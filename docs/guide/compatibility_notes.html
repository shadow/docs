<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Compatibility Notes - The Shadow Simulator</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Shadow Simulator</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shadow/shadow" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="compatibility-notes"><a class="header" href="#compatibility-notes">Compatibility Notes</a></h1>
<ul>
<li><a href="#libopenblas">libopenblas</a></li>
<li><a href="#curl">cURL</a></li>
<li><a href="#wget2">Wget2</a></li>
<li><a href="#nginx">Nginx</a></li>
<li><a href="#iperf-2">iPerf 2</a></li>
<li><a href="#iperf-3">iPerf 3</a></li>
<li><a href="#jetty">Jetty</a></li>
<li><a href="#etcd-distributed-key-value-store">etcd (distributed key-value store)</a></li>
<li><a href="#ctorrent-and-opentracker">CTorrent and opentracker</a></li>
<li><a href="#http-server">http-server</a></li>
</ul>
<h2 id="libopenblas"><a class="header" href="#libopenblas">libopenblas</a></h2>
<p>libopenblas is a fairly low-level library, and can get pulled in transitively
via dependencies. e.g., <a href="https://github.com/shadow/tgen">tgen</a> uses libigraph,
which links against liblapack, which links against blas.</p>
<p>libopenblas, when compiled with pthread support, uses
<a href="limitations.html#busy-loops">busy-loops</a> in its worker threads.</p>
<p>There are several known workarounds:</p>
<ul>
<li>
<p>Use Shadow's <code>--model-unblocked-syscall-latency</code> feature. See
<a href="limitations.html#busy-loops">busy-loops</a> for details and caveats.</p>
</li>
<li>
<p>Use a different implementation of libblas. e.g. on Ubuntu, there are several
alternative packages that can <a href="https://packages.ubuntu.com/hirsute/libblas.so.3">provide
libblas</a>.  In particular,
<a href="https://packages.ubuntu.com/hirsute/libblas3">libblas3</a> doesn't have this issue.</p>
</li>
<li>
<p>Install libopenblas compiled without pthread support. e.g. on Ubuntu this can
be obtained by installing
<a href="https://packages.ubuntu.com/hirsute/libopenblas0-serial">libopenblas0-serial</a>
instead of
<a href="https://packages.ubuntu.com/hirsute/libopenblas0-pthread">libopenblas0-pthread</a>.</p>
</li>
<li>
<p>Configure libopenblas to not use threads at runtime. This can be done by
setting the environment variable <code>OPENBLAS_NUM_THREADS=1</code>, in the process's
<a href="shadow_config_spec.html#hostshostnameprocessesenvironment">environment</a>
attribute in the Shadow config. Example:
<a href="https://github.com/shadow/shadow/blob/7ceb8b7793f1e525c7278e1893aa247ad224af76/src/test/tor/minimal/tor-minimal.yaml#L109">tor-minimal.yaml:109</a></p>
</li>
</ul>
<p>See also:</p>
<ul>
<li><a href="https://github.com/shadow/shadow/issues/1788">libopenblas deadlocks</a></li>
</ul>
<h2 id="curl"><a class="header" href="#curl">cURL</a></h2>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<pre><code class="language-yaml">general:
  stop_time: 10s
  model_unblocked_syscall_latency: true

network:
  graph:
    type: 1_gbit_switch

hosts:
  server:
    network_node_id: 0
    processes:
    - path: python3
      args: -m http.server 80
      start_time: 0s
      expected_final_state: running
  client1: &amp;client_host
    network_node_id: 0
    processes:
    - path: curl
      args: -s server
      start_time: 2s
  client2: *client_host
  client3: *client_host
</code></pre>
<pre><code class="language-bash">rm -rf shadow.data; shadow shadow.yaml &gt; shadow.log
cat shadow.data/hosts/client1/curl.1000.stdout
</code></pre>
<h3 id="notes"><a class="header" href="#notes">Notes</a></h3>
<ol>
<li>Older versions of cURL use a busy loop that is incompatible with Shadow and
will cause Shadow to deadlock. <code>model_unblocked_syscall_latency</code> works around
this (see <a href="limitations.html#busy-loops">busy-loops</a>). Newer versions of cURL, such as the
version provided in Ubuntu 20.04, don't have this issue. See issue
<a href="https://github.com/shadow/shadow/issues/1794">#1794</a> for details.</li>
</ol>
<h2 id="wget2"><a class="header" href="#wget2">Wget2</a></h2>
<h3 id="example-1"><a class="header" href="#example-1">Example</a></h3>
<pre><code class="language-yaml">general:
  stop_time: 10s

network:
  graph:
    type: 1_gbit_switch

hosts:
  server:
    network_node_id: 0
    processes:
    - path: python3
      args: -m http.server 80
      start_time: 0s
      expected_final_state: running
  client1: &amp;client_host
    network_node_id: 0
    processes:
    - path: wget2
      args: --no-tcp-fastopen server
      start_time: 2s
  client2: *client_host
  client3: *client_host
</code></pre>
<pre><code class="language-bash">rm -rf shadow.data; shadow shadow.yaml &gt; shadow.log
cat shadow.data/hosts/client1/index.html
</code></pre>
<h3 id="notes-1"><a class="header" href="#notes-1">Notes</a></h3>
<ol>
<li>Shadow doesn't support <code>TCP_FASTOPEN</code> so you must run Wget2 using the <code>--no-tcp-fastopen</code> option.</li>
</ol>
<h2 id="nginx"><a class="header" href="#nginx">Nginx</a></h2>
<h3 id="example-2"><a class="header" href="#example-2">Example</a></h3>
<h4 id="shadowyaml"><a class="header" href="#shadowyaml"><code>shadow.yaml</code></a></h4>
<pre><code class="language-yaml">general:
  stop_time: 10s

network:
  graph:
    type: 1_gbit_switch

hosts:
  server:
    network_node_id: 0
    processes:
    - path: nginx
      args: -c ../../../nginx.conf -p .
      start_time: 0s
      expected_final_state: running
  client1: &amp;client_host
    network_node_id: 0
    processes:
    - path: curl
      args: -s server
      start_time: 2s
  client2: *client_host
  client3: *client_host
</code></pre>
<h4 id="nginxconf"><a class="header" href="#nginxconf"><code>nginx.conf</code></a></h4>
<pre><code class="language-nginx">error_log stderr;

# shadow wants to run nginx in the foreground
daemon off;

# shadow doesn't support some syscalls that nginx uses to set up and control
# worker child processes.
# https://github.com/shadow/shadow/issues/3174
master_process off;
worker_processes 0;

# don't use the system pid file
pid nginx.pid;

events {
  # we're not using any workers, so this is the maximum number
  # of simultaneous connections we can support
  worker_connections 1024;
}

http {
  include             /etc/nginx/mime.types;
  default_type        application/octet-stream;

  # shadow does not support sendfile()
  sendfile off;

  access_log off;

  server {
    listen 80;

    location / {
      root /var/www/html;
      index index.nginx-debian.html;
    }
  }
}
</code></pre>
<pre><code class="language-bash">rm -rf shadow.data; shadow shadow.yaml &gt; shadow.log
cat shadow.data/hosts/client1/curl.1000.stdout
</code></pre>
<h3 id="notes-2"><a class="header" href="#notes-2">Notes</a></h3>
<ol>
<li>
<p>Shadow currently doesn't support some syscalls that nginx uses to set up and control worker child processes, so you must disable additional processes
using <code>master_process off</code> and <code>worker_processes 0</code>. See https://github.com/shadow/shadow/issues/3174.</p>
</li>
<li>
<p>Shadow doesn't support <code>sendfile()</code> so you must disable it using <code>sendfile off</code>.</p>
</li>
</ol>
<h2 id="iperf-2"><a class="header" href="#iperf-2">iPerf 2</a></h2>
<h3 id="example-3"><a class="header" href="#example-3">Example</a></h3>
<pre><code class="language-yaml">general:
  stop_time: 10s

network:
  graph:
    type: 1_gbit_switch

hosts:
  server:
    network_node_id: 0
    processes:
    - path: iperf
      args: -s
      start_time: 0s
      expected_final_state: running
  client:
    network_node_id: 0
    processes:
    - path: iperf
      args: -c server -t 5
      start_time: 2s
</code></pre>
<pre><code class="language-bash">rm -rf shadow.data; shadow shadow.yaml &gt; shadow.log
</code></pre>
<h3 id="notes-3"><a class="header" href="#notes-3">Notes</a></h3>
<ol>
<li>You must use an iPerf 2 version &gt;= <code>2.1.1</code>. Older versions of iPerf have a
<a href="https://sourceforge.net/p/iperf2/code/ci/41bfc67a9d2c654c360953575ee5160ee4d798e7/tree/src/Reporter.c#l506">no-syscall busy loop</a> that is <a href="limitations.html#busy-loops">incompatible with Shadow</a>.</li>
</ol>
<h2 id="iperf-3"><a class="header" href="#iperf-3">iPerf 3</a></h2>
<h3 id="example-4"><a class="header" href="#example-4">Example</a></h3>
<pre><code class="language-yaml">general:
  stop_time: 10s
  model_unblocked_syscall_latency: true

network:
  graph:
    type: 1_gbit_switch

hosts:
  server:
    network_node_id: 0
    processes:
    - path: iperf3
      args: -s --bind 0.0.0.0
      start_time: 0s
      # Tell shadow to expect this process to still be running at the end of the
      # simulation.
      expected_final_state: running
  client:
    network_node_id: 0
    processes:
    - path: iperf3
      args: -c server -t 5
      start_time: 2s
</code></pre>
<pre><code class="language-bash">rm -rf shadow.data; shadow shadow.yaml &gt; shadow.log
</code></pre>
<h3 id="notes-4"><a class="header" href="#notes-4">Notes</a></h3>
<ol>
<li>
<p>By default iPerf 3 servers bind to an IPv6 address, but <a href="limitations.html#ipv6">Shadow doesn't
support IPv6</a>. Instead you need to bind the server to an IPv4 address such as
0.0.0.0.</p>
</li>
<li>
<p>The iPerf 3 server exits with a non-zero error code and the message "unable
to start listener for connections: Address already in use" after the client
disconnects. This is likely due to Shadow not supporting the <code>SO_REUSEADDR</code>
socket option.</p>
</li>
<li>
<p>iPerf 3 uses a <a href="limitations.html#busy-loops">busy loop</a> that is incompatible
with Shadow and will cause Shadow to deadlock. A workaround is to use the
<code>model_unblocked_syscall_latency</code> option.</p>
</li>
</ol>
<h2 id="jetty"><a class="header" href="#jetty">Jetty</a></h2>
<p>Running Jetty with the http module works, but we haven't tested anything more
than this.</p>
<h3 id="example-5"><a class="header" href="#example-5">Example</a></h3>
<h4 id="shadowyaml-1"><a class="header" href="#shadowyaml-1"><code>shadow.yaml</code></a></h4>
<pre><code class="language-yaml">general:
  stop_time: 10s

network:
  graph:
    type: 1_gbit_switch

hosts:
  server:
    network_node_id: 0
    processes:
    - path: java
      args: -jar ../../../jetty-home-12.0.12/start.jar jetty.http.port=80 --modules=http
      expected_final_state: running
  client1: &amp;client_host
    network_node_id: 0
    processes:
    - path: curl
      args: -s server
      start_time: 2s
  client2: *client_host
  client3: *client_host
</code></pre>
<pre><code class="language-bash">if [ ! -d jetty-home-12.0.12/ ]; then
  wget https://repo1.maven.org/maven2/org/eclipse/jetty/jetty-home/12.0.12/jetty-home-12.0.12.zip
  echo "2dc2c60a8a3cb84df64134bed4df1c45598118e9a228604eaeb8b9b42d80bc07  jetty-home-12.0.12.zip" | sha256sum -c
  unzip -q jetty-home-12.0.12.zip &amp;&amp; rm jetty-home-12.0.12.zip
fi

rm -rf shadow.data; shadow shadow.yaml &gt; shadow.log
cat shadow.data/hosts/client1/curl.1000.stdout
</code></pre>
<h2 id="etcd-distributed-key-value-store"><a class="header" href="#etcd-distributed-key-value-store">etcd (distributed key-value store)</a></h2>
<h3 id="example-6"><a class="header" href="#example-6">Example</a></h3>
<p>Example for etcd version 3.3.x.</p>
<pre><code class="language-yaml">general:
  stop_time: 30s

network:
  graph:
    type: gml
    inline: |
      graph [
        node [
          id 0
          host_bandwidth_down "20 Mbit"
          host_bandwidth_up "20 Mbit"
        ]
        edge [
          source 0
          target 0
          latency "150 ms"
          packet_loss 0.01
        ]
      ]

hosts:
  server1:
    network_node_id: 0
    processes:
    - path: etcd
      args:
        --name server1
        --log-output=stdout
        --initial-cluster-token etcd-cluster-1
        --initial-cluster 'server1=http://server1:2380,server2=http://server2:2380,server3=http://server3:2380'
        --listen-client-urls http://0.0.0.0:2379
        --advertise-client-urls http://server1:2379
        --listen-peer-urls http://0.0.0.0:2380
        --initial-advertise-peer-urls http://server1:2380
      expected_final_state: running
    - path: etcdctl
      args: set my-key my-value
      start_time: 10s
  server2:
    network_node_id: 0
    processes:
    - path: etcd
      # each etcd peer must have a different start time
      # https://github.com/shadow/shadow/issues/2858
      start_time: 1ms
      args:
        --name server2
        --log-output=stdout
        --initial-cluster-token etcd-cluster-1
        --initial-cluster 'server1=http://server1:2380,server2=http://server2:2380,server3=http://server3:2380'
        --listen-client-urls http://0.0.0.0:2379
        --advertise-client-urls http://server2:2379
        --listen-peer-urls http://0.0.0.0:2380
        --initial-advertise-peer-urls http://server2:2380
      expected_final_state: running
    - path: etcdctl
      args: get my-key
      start_time: 12s
  server3:
    network_node_id: 0
    processes:
    - path: etcd
      start_time: 2ms
      args:
        --name server3
        --log-output=stdout
        --initial-cluster-token etcd-cluster-1
        --initial-cluster 'server1=http://server1:2380,server2=http://server2:2380,server3=http://server3:2380'
        --listen-client-urls http://0.0.0.0:2379
        --advertise-client-urls http://server3:2379
        --listen-peer-urls http://0.0.0.0:2380
        --initial-advertise-peer-urls http://server3:2380
      expected_final_state: running
    - path: etcdctl
      args: get my-key
      start_time: 12s
</code></pre>
<pre><code class="language-bash">rm -rf shadow.data; shadow shadow.yaml &gt; shadow.log
cat shadow.data/hosts/*/etcdctl.*.stdout
</code></pre>
<h3 id="notes-5"><a class="header" href="#notes-5">Notes</a></h3>
<ol>
<li>
<p>The etcd binary <a href="limitations.html#statically-linked-executables">must not be statically
linked</a>. You can build a
dynamically linked version by replacing <code>CGO_ENABLED=0</code> with <code>CGO_ENABLED=1</code> in
etcd's <code>scripts/build.sh</code> and <code>scripts/build_lib.sh</code> scripts. The etcd packages
included in the Debian and Ubuntu APT repositories are dynamically linked, so
they can be used directly.</p>
</li>
<li>
<p>Each etcd peer must be started at a different time since etcd uses the
current time as an RNG seed. See <a href="https://github.com/shadow/shadow/issues/2858">issue
#2858</a> for details.</p>
</li>
<li>
<p>If using etcd version greater than 3.5.4, you must build etcd from source
and comment out the <a href="https://github.com/etcd-io/etcd/blob/4485db379e80cc9955c3fdd6a776fc630c32cc36/client/pkg/transport/keepalive_listener.go#L68-L70">keepalive period
assignment</a>
as Shadow does not support this.</p>
</li>
</ol>
<h2 id="ctorrent-and-opentracker"><a class="header" href="#ctorrent-and-opentracker">CTorrent and opentracker</a></h2>
<h3 id="example-7"><a class="header" href="#example-7">Example</a></h3>
<pre><code class="language-yaml">general:
  stop_time: 60s

network:
  graph:
    type: 1_gbit_switch

hosts:
  tracker:
    network_node_id: 0
    processes:
    - path: opentracker
      # Tell shadow to expect this process to still be running at the end of the
      # simulation.
      expected_final_state: running
  uploader:
    network_node_id: 0
    processes:
    - path: cp
      args: ../../../foo .
      start_time: 10s
    # Create the torrent file
    - path: ctorrent
      args: -t foo -s example.torrent -u http://tracker:6969/announce
      start_time: 11s
    # Serve the torrent
    - path: ctorrent
      args: example.torrent
      start_time: 12s
      expected_final_state: running
  downloader1: &amp;downloader_host
    network_node_id: 0
    processes:
    # Download and share the torrent
    - path: ctorrent
      args: ../uploader/example.torrent
      start_time: 30s
      expected_final_state: running
  downloader2: *downloader_host
  downloader3: *downloader_host
  downloader4: *downloader_host
  downloader5: *downloader_host
</code></pre>
<pre><code class="language-bash">echo "bar" &gt; foo
rm -rf shadow.data; shadow shadow.yaml &gt; shadow.log
cat shadow.data/hosts/downloader1/foo
</code></pre>
<h3 id="notes-6"><a class="header" href="#notes-6">Notes</a></h3>
<ol>
<li>Shadow must be run as a non-root user since opentracker will attempt to drop
privileges if it detects that the effective user is root.</li>
</ol>
<h2 id="http-server"><a class="header" href="#http-server">http-server</a></h2>
<h3 id="example-8"><a class="header" href="#example-8">Example</a></h3>
<pre><code class="language-yaml">general:
  stop_time: 10s
  model_unblocked_syscall_latency: true

network:
  graph:
    type: 1_gbit_switch

hosts:
  server:
    network_node_id: 0
    processes:
    - path: node
      args: /usr/local/bin/http-server -p 80 -d
      start_time: 3s
      expected_final_state: running
  client:
    network_node_id: 0
    processes:
    - path: curl
      args: -s server
      start_time: 5s
</code></pre>
<pre><code class="language-bash">rm -rf shadow.data; shadow shadow.yaml &gt; shadow.log
cat shadow.data/hosts/client/curl.1000.stdout
</code></pre>
<h3 id="notes-7"><a class="header" href="#notes-7">Notes</a></h3>
<ol>
<li>Either the Node.js runtime or http-server uses a busy loop that is
incompatible with Shadow and will cause Shadow to deadlock.
<code>model_unblocked_syscall_latency</code> works around this (see
<a href="limitations.html#busy-loops">busy-loops</a>).</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="limitations.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="contributing.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="limitations.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="contributing.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
