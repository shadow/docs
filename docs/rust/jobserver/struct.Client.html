<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A client of a jobserver"><title>Client in jobserver - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="jobserver" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.0 (aedd173a2 2024-03-17)" data-channel="1.77.0" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-4c98445ec4002617.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../jobserver/index.html">jobserver</a><span class="version">0.1.27</span></h2></div><h2 class="location"><a href="#">Client</a></h2><div class="sidebar-elems"><section><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.acquire">acquire</a></li><li><a href="#method.acquire_raw">acquire_raw</a></li><li><a href="#method.available">available</a></li><li><a href="#method.configure">configure</a></li><li><a href="#method.configure_make">configure_make</a></li><li><a href="#method.from_env">from_env</a></li><li><a href="#method.from_env_ext">from_env_ext</a></li><li><a href="#method.into_helper_thread">into_helper_thread</a></li><li><a href="#method.new">new</a></li><li><a href="#method.release_raw">release_raw</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-Clone-for-Client">Clone</a></li><li><a href="#impl-Debug-for-Client">Debug</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-RefUnwindSafe-for-Client">RefUnwindSafe</a></li><li><a href="#impl-Send-for-Client">Send</a></li><li><a href="#impl-Sync-for-Client">Sync</a></li><li><a href="#impl-Unpin-for-Client">Unpin</a></li><li><a href="#impl-UnwindSafe-for-Client">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-T">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E-for-T">Into&lt;U&gt;</a></li><li><a href="#impl-ToOwned-for-T">ToOwned</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T">TryInto&lt;U&gt;</a></li></ul></section><h2><a href="index.html">In crate jobserver</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../jobserver/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Struct <a href="index.html">jobserver</a>::<wbr><a class="struct" href="#">Client</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/jobserver/lib.rs.html#115-117">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub struct Client { <span class="comment">/* private fields */</span> }</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A client of a jobserver</p>
<p>This structure is the main type exposed by this library, and is where
interaction to a jobserver is configured through. Clients are either created
from scratch in which case the internal semphore is initialied on the spot,
or a client is created from the environment to connect to a jobserver
already created.</p>
<p>Some usage examples can be found in the crate documentation for using a
client.</p>
<p>Note that a <code>Client</code> implements the <code>Clone</code> trait, and all instances of a
<code>Client</code> refer to the same jobserver instance.</p>
</div></details><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Client" class="impl"><a class="src rightside" href="../src/jobserver/lib.rs.html#184-506">source</a><a href="#impl-Client" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.Client.html" title="struct jobserver::Client">Client</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../src/jobserver/lib.rs.html#208-212">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>(limit: <a class="primitive" href="https://doc.rust-lang.org/1.77.0/std/primitive.usize.html">usize</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.77.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.Client.html" title="struct jobserver::Client">Client</a>&gt;</h4></section></summary><div class="docblock"><p>Creates a new jobserver initialized with the given parallelism limit.</p>
<p>A client to the jobserver created will be returned. This client will
allow at most <code>limit</code> tokens to be acquired from it in parallel. More
calls to <code>acquire</code> will cause the calling thread to block.</p>
<p>Note that the created <code>Client</code> is not automatically inherited into
spawned child processes from this program. Manual usage of the
<code>configure</code> function is required for a child process to have access to a
job server.</p>
<h5 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>jobserver::Client;

<span class="kw">let </span>client = Client::new(<span class="number">4</span>).expect(<span class="string">"failed to create jobserver"</span>);</code></pre></div>
<h5 id="errors"><a class="doc-anchor" href="#errors">§</a>Errors</h5>
<p>Returns an error if any I/O error happens when attempting to create the
jobserver client.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.from_env_ext" class="method"><a class="src rightside" href="../src/jobserver/lib.rs.html#264-296">source</a><h4 class="code-header">pub unsafe fn <a href="#method.from_env_ext" class="fn">from_env_ext</a>(check_pipe: <a class="primitive" href="https://doc.rust-lang.org/1.77.0/std/primitive.bool.html">bool</a>) -&gt; <a class="struct" href="struct.FromEnv.html" title="struct jobserver::FromEnv">FromEnv</a></h4></section></summary><div class="docblock"><p>Attempts to connect to the jobserver specified in this process’s
environment.</p>
<p>When the a <code>make</code> executable calls a child process it will configure the
environment of the child to ensure that it has handles to the jobserver
it’s passing down. This function will attempt to look for these details
and connect to the jobserver.</p>
<p>Note that the created <code>Client</code> is not automatically inherited into
spawned child processes from this program. Manual usage of the
<code>configure</code> function is required for a child process to have access to a
job server.</p>
<h5 id="return-value"><a class="doc-anchor" href="#return-value">§</a>Return value</h5>
<p><code>FromEnv</code> contains result and relevant environment variable.
If a jobserver was found in the environment and it looks correct then
result with the connected client will be returned. In other cases
result will contain <code>Err(FromEnvErr)</code>.</p>
<p>Note that on Unix the <code>Client</code> returned <strong>takes ownership of the file
descriptors specified in the environment</strong>. Jobservers on Unix are
implemented with <code>pipe</code> file descriptors, and they’re inherited from
parent processes. This <code>Client</code> returned takes ownership of the file
descriptors for this process and will close the file descriptors after
this value is dropped.</p>
<p>Additionally on Unix this function will configure the file descriptors
with <code>CLOEXEC</code> so they’re not automatically inherited by spawned
children.</p>
<p>On unix if <code>check_pipe</code> enabled this function will check if provided
files are actually pipes.</p>
<h5 id="safety"><a class="doc-anchor" href="#safety">§</a>Safety</h5>
<p>This function is <code>unsafe</code> to call on Unix specifically as it
transitively requires usage of the <code>from_raw_fd</code> function, which is
itself unsafe in some circumstances.</p>
<p>It’s recommended to call this function very early in the lifetime of a
program before any other file descriptors are opened. That way you can
make sure to take ownership properly of the file descriptors passed
down, if any.</p>
<p>It’s generally unsafe to call this function twice in a program if the
previous invocation returned <code>Some</code>.</p>
<p>Note, though, that on Windows it should be safe to call this function
any number of times.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.from_env" class="method"><a class="src rightside" href="../src/jobserver/lib.rs.html#302-304">source</a><h4 class="code-header">pub unsafe fn <a href="#method.from_env" class="fn">from_env</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.77.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Client.html" title="struct jobserver::Client">Client</a>&gt;</h4></section></summary><div class="docblock"><p>Attempts to connect to the jobserver specified in this process’s
environment.</p>
<p>Wraps <code>from_env_ext</code> and discards error details.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.acquire" class="method"><a class="src rightside" href="../src/jobserver/lib.rs.html#322-329">source</a><h4 class="code-header">pub fn <a href="#method.acquire" class="fn">acquire</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.77.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.Acquired.html" title="struct jobserver::Acquired">Acquired</a>&gt;</h4></section></summary><div class="docblock"><p>Acquires a token from this jobserver client.</p>
<p>This function will block the calling thread until a new token can be
acquired from the jobserver.</p>
<h5 id="return-value-1"><a class="doc-anchor" href="#return-value-1">§</a>Return value</h5>
<p>On successful acquisition of a token an instance of <code>Acquired</code> is
returned. This structure, when dropped, will release the token back to
the jobserver. It’s recommended to avoid leaking this value.</p>
<h5 id="errors-1"><a class="doc-anchor" href="#errors-1">§</a>Errors</h5>
<p>If an I/O error happens while acquiring a token then this function will
return immediately with the error. If an error is returned then a token
was not acquired.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.available" class="method"><a class="src rightside" href="../src/jobserver/lib.rs.html#340-342">source</a><h4 class="code-header">pub fn <a href="#method.available" class="fn">available</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.77.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.77.0/std/primitive.usize.html">usize</a>&gt;</h4></section></summary><div class="docblock"><p>Returns amount of tokens in the read-side pipe.</p>
<h5 id="return-value-2"><a class="doc-anchor" href="#return-value-2">§</a>Return value</h5>
<p>Number of bytes available to be read from the jobserver pipe</p>
<h5 id="errors-2"><a class="doc-anchor" href="#errors-2">§</a>Errors</h5>
<p>Underlying errors from the ioctl will be passed up.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.configure" class="method"><a class="src rightside" href="../src/jobserver/lib.rs.html#360-363">source</a><h4 class="code-header">pub fn <a href="#method.configure" class="fn">configure</a>(&amp;self, cmd: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.77.0/std/process/struct.Command.html" title="struct std::process::Command">Command</a>)</h4></section></summary><div class="docblock"><p>Configures a child process to have access to this client’s jobserver as
well.</p>
<p>This function is required to be called to ensure that a jobserver is
properly inherited to a child process. If this function is <em>not</em> called
then this <code>Client</code> will not be accessible in the child process. In other
words, if not called, then <code>Client::from_env</code> will return <code>None</code> in the
child process (or the equivalent of <code>Child::from_env</code> that <code>make</code> uses).</p>
<h6 id="platform-specific-behavior"><a class="doc-anchor" href="#platform-specific-behavior">§</a>Platform-specific behavior</h6>
<p>On Unix and Windows this will clobber the <code>CARGO_MAKEFLAGS</code> environment
variables for the child process, and on Unix this will also allow the
two file descriptors for this client to be inherited to the child.</p>
<p>On platforms other than Unix and Windows this panics.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.configure_make" class="method"><a class="src rightside" href="../src/jobserver/lib.rs.html#382-388">source</a><h4 class="code-header">pub fn <a href="#method.configure_make" class="fn">configure_make</a>(&amp;self, cmd: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.77.0/std/process/struct.Command.html" title="struct std::process::Command">Command</a>)</h4></section></summary><div class="docblock"><p>Configures a child process to have access to this client’s jobserver as
well.</p>
<p>This function is required to be called to ensure that a jobserver is
properly inherited to a child process. If this function is <em>not</em> called
then this <code>Client</code> will not be accessible in the child process. In other
words, if not called, then <code>Client::from_env</code> will return <code>None</code> in the
child process (or the equivalent of <code>Child::from_env</code> that <code>make</code> uses).</p>
<h6 id="platform-specific-behavior-1"><a class="doc-anchor" href="#platform-specific-behavior-1">§</a>Platform-specific behavior</h6>
<p>On Unix and Windows this will clobber the <code>CARGO_MAKEFLAGS</code>,
<code>MAKEFLAGS</code> and <code>MFLAGS</code> environment variables for the child process,
and on Unix this will also allow the two file descriptors for
this client to be inherited to the child.</p>
<p>On platforms other than Unix and Windows this panics.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.into_helper_thread" class="method"><a class="src rightside" href="../src/jobserver/lib.rs.html#476-485">source</a><h4 class="code-header">pub fn <a href="#method.into_helper_thread" class="fn">into_helper_thread</a>&lt;F&gt;(self, f: F) -&gt; <a class="type" href="https://doc.rust-lang.org/1.77.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.HelperThread.html" title="struct jobserver::HelperThread">HelperThread</a>&gt;<div class="where">where
    F: <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="type" href="https://doc.rust-lang.org/1.77.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.Acquired.html" title="struct jobserver::Acquired">Acquired</a>&gt;) + <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static,</div></h4></section></summary><div class="docblock"><p>Converts this <code>Client</code> into a helper thread to deal with a blocking
<code>acquire</code> function a little more easily.</p>
<p>The fact that the <code>acquire</code> function on <code>Client</code> blocks isn’t always
the easiest to work with. Typically you’re using a jobserver to
manage running other events in parallel! This means that you need to
either (a) wait for an existing job to finish or (b) wait for a
new token to become available.</p>
<p>Unfortunately the blocking in <code>acquire</code> happens at the implementation
layer of jobservers. On Unix this requires a blocking call to <code>read</code>
and on Windows this requires one of the <code>WaitFor*</code> functions. Both
of these situations aren’t the easiest to deal with:</p>
<ul>
<li>
<p>On Unix there’s basically only one way to wake up a <code>read</code> early, and
that’s through a signal. This is what the <code>make</code> implementation
itself uses, relying on <code>SIGCHLD</code> to wake up a blocking acquisition
of a new job token. Unfortunately nonblocking I/O is not an option
here, so it means that “waiting for one of two events” means that
the latter event must generate a signal! This is not always the case
on unix for all jobservers.</p>
</li>
<li>
<p>On Windows you’d have to basically use the <code>WaitForMultipleObjects</code>
which means that you’ve got to canonicalize all your event sources
into a <code>HANDLE</code> which also isn’t the easiest thing to do
unfortunately.</p>
</li>
</ul>
<p>This function essentially attempts to ease these limitations by
converting this <code>Client</code> into a helper thread spawned into this
process. The application can then request that the helper thread
acquires tokens and the provided closure will be invoked for each token
acquired.</p>
<p>The intention is that this function can be used to translate the event
of a token acquisition into an arbitrary user-defined event.</p>
<h5 id="arguments"><a class="doc-anchor" href="#arguments">§</a>Arguments</h5>
<p>This function will consume the <code>Client</code> provided to be transferred to
the helper thread that is spawned. Additionally a closure <code>f</code> is
provided to be invoked whenever a token is acquired.</p>
<p>This closure is only invoked after calls to
<code>HelperThread::request_token</code> have been made and a token itself has
been acquired. If an error happens while acquiring the token then
an error will be yielded to the closure as well.</p>
<h5 id="return-value-3"><a class="doc-anchor" href="#return-value-3">§</a>Return Value</h5>
<p>This function will return an instance of the <code>HelperThread</code> structure
which is used to manage the helper thread associated with this client.
Through the <code>HelperThread</code> you’ll request that tokens are acquired.
When acquired, the closure provided here is invoked.</p>
<p>When the <code>HelperThread</code> structure is returned it will be gracefully
torn down, and the calling thread will be blocked until the thread is
torn down (which should be prompt).</p>
<h5 id="errors-3"><a class="doc-anchor" href="#errors-3">§</a>Errors</h5>
<p>This function may fail due to creation of the helper thread or
auxiliary I/O objects to manage the helper thread. In any of these
situations the error is propagated upwards.</p>
<h5 id="platform-specific-behavior-2"><a class="doc-anchor" href="#platform-specific-behavior-2">§</a>Platform-specific behavior</h5>
<p>On Windows this function behaves pretty normally as expected, but on
Unix the implementation is… a little heinous. As mentioned above
we’re forced into blocking I/O for token acquisition, namely a blocking
call to <code>read</code>. We must be able to unblock this, however, to tear down
the helper thread gracefully!</p>
<p>Essentially what happens is that we’ll send a signal to the helper
thread spawned and rely on <code>EINTR</code> being returned to wake up the helper
thread. This involves installing a global <code>SIGUSR1</code> handler that does
nothing along with sending signals to that thread. This may cause
odd behavior in some applications, so it’s recommended to review and
test thoroughly before using this.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.acquire_raw" class="method"><a class="src rightside" href="../src/jobserver/lib.rs.html#492-495">source</a><h4 class="code-header">pub fn <a href="#method.acquire_raw" class="fn">acquire_raw</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.77.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.77.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Blocks the current thread until a token is acquired.</p>
<p>This is the same as <code>acquire</code>, except that it doesn’t return an RAII
helper. If successful the process will need to guarantee that
<code>release_raw</code> is called in the future.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.release_raw" class="method"><a class="src rightside" href="../src/jobserver/lib.rs.html#502-505">source</a><h4 class="code-header">pub fn <a href="#method.release_raw" class="fn">release_raw</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.77.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.77.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Releases a jobserver token back to the original jobserver.</p>
<p>This is intended to be paired with <code>acquire_raw</code> if it was called, but
in some situations it could also be called to relinquish a process’s
implicit token temporarily which is then re-acquired later.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Clone-for-Client" class="impl"><a class="src rightside" href="../src/jobserver/lib.rs.html#114">source</a><a href="#impl-Clone-for-Client" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> for <a class="struct" href="struct.Client.html" title="struct jobserver::Client">Client</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.clone" class="method trait-impl"><a class="src rightside" href="../src/jobserver/lib.rs.html#114">source</a><a href="#method.clone" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.77.0/core/clone/trait.Clone.html#tymethod.clone" class="fn">clone</a>(&amp;self) -&gt; <a class="struct" href="struct.Client.html" title="struct jobserver::Client">Client</a></h4></section></summary><div class='docblock'>Returns a copy of the value. <a href="https://doc.rust-lang.org/1.77.0/core/clone/trait.Clone.html#tymethod.clone">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.clone_from" class="method trait-impl"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> · <a class="src" href="https://doc.rust-lang.org/1.77.0/src/core/clone.rs.html#169">source</a></span><a href="#method.clone_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.77.0/core/clone/trait.Clone.html#method.clone_from" class="fn">clone_from</a>(&amp;mut self, source: <a class="primitive" href="https://doc.rust-lang.org/1.77.0/std/primitive.reference.html">&amp;Self</a>)</h4></section></summary><div class='docblock'>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/1.77.0/core/clone/trait.Clone.html#method.clone_from">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-Client" class="impl"><a class="src rightside" href="../src/jobserver/lib.rs.html#114">source</a><a href="#impl-Debug-for-Client" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.Client.html" title="struct jobserver::Client">Client</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="src rightside" href="../src/jobserver/lib.rs.html#114">source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.77.0/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.77.0/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/1.77.0/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/1.77.0/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-Client" class="impl"><a href="#impl-RefUnwindSafe-for-Client" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Client.html" title="struct jobserver::Client">Client</a></h3></section><section id="impl-Send-for-Client" class="impl"><a href="#impl-Send-for-Client" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Client.html" title="struct jobserver::Client">Client</a></h3></section><section id="impl-Sync-for-Client" class="impl"><a href="#impl-Sync-for-Client" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Client.html" title="struct jobserver::Client">Client</a></h3></section><section id="impl-Unpin-for-Client" class="impl"><a href="#impl-Unpin-for-Client" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Client.html" title="struct jobserver::Client">Client</a></h3></section><section id="impl-UnwindSafe-for-Client" class="impl"><a href="#impl-UnwindSafe-for-Client" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Client.html" title="struct jobserver::Client">Client</a></h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/any.rs.html#140">source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.77.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/any.rs.html#141">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.77.0/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.77.0/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.77.0/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/borrow.rs.html#208">source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.77.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/borrow.rs.html#210">source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.77.0/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.77.0/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.77.0/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/borrow.rs.html#216">source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.77.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/borrow.rs.html#217">source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.77.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.77.0/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.77.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/convert/mod.rs.html#764">source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/convert/mod.rs.html#767">source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.77.0/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/convert/mod.rs.html#747-749">source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/convert/mod.rs.html#757">source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.77.0/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.77.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-ToOwned-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/alloc/borrow.rs.html#83-85">source</a><a href="#impl-ToOwned-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.77.0/alloc/borrow/trait.ToOwned.html" title="trait alloc::borrow::ToOwned">ToOwned</a> for T<div class="where">where
    T: <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Owned" class="associatedtype trait-impl"><a href="#associatedtype.Owned" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.77.0/alloc/borrow/trait.ToOwned.html#associatedtype.Owned" class="associatedtype">Owned</a> = T</h4></section></summary><div class='docblock'>The resulting type after obtaining ownership.</div></details><details class="toggle method-toggle" open><summary><section id="method.to_owned" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/alloc/borrow.rs.html#88">source</a><a href="#method.to_owned" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.77.0/alloc/borrow/trait.ToOwned.html#tymethod.to_owned" class="fn">to_owned</a>(&amp;self) -&gt; T</h4></section></summary><div class='docblock'>Creates owned data from borrowed data, usually by cloning. <a href="https://doc.rust-lang.org/1.77.0/alloc/borrow/trait.ToOwned.html#tymethod.to_owned">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.clone_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/alloc/borrow.rs.html#92">source</a><a href="#method.clone_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.77.0/alloc/borrow/trait.ToOwned.html#method.clone_into" class="fn">clone_into</a>(&amp;self, target: <a class="primitive" href="https://doc.rust-lang.org/1.77.0/std/primitive.reference.html">&amp;mut T</a>)</h4></section></summary><div class='docblock'>Uses borrowed data to replace owned data, usually by cloning. <a href="https://doc.rust-lang.org/1.77.0/alloc/borrow/trait.ToOwned.html#method.clone_into">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/convert/mod.rs.html#804-806">source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.77.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/convert/mod.rs.html#811">source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.77.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/convert/mod.rs.html#789-791">source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.77.0/src/core/convert/mod.rs.html#796">source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.77.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.77.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>