<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Shadow’s configuration and cli parsing code using serde and clap. This contains all of Shadow’s configuration options, some of which are also exposed as CLI options."><title>shadow_rs::core::configuration - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="shadow_rs" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../shadow_rs/index.html">shadow_<wbr>rs</a><span class="version">773f4e2</span></h2></div><h2 class="location"><a href="#">Module configuration</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In shadow_<wbr>rs::<wbr>core</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">shadow_rs</a>::<wbr><a href="../index.html">core</a>::<wbr><a class="mod" href="#">configuration</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../src/shadow_rs/core/configuration.rs.html#1-1612">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Shadow’s configuration and cli parsing code using <a href="../../../serde/index.html" title="mod serde">serde</a> and <a href="../../../clap/index.html" title="mod clap">clap</a>. This contains all of
Shadow’s configuration options, some of which are also exposed as CLI options.</p>
<p>Shadow uses <a href="../../../schemars/index.html" title="mod schemars">schemars</a> to get the option description (its doc comment) and default value so that
it can be shown in the CLI help text.</p>
<p>This code should be careful about validating or interpreting values. It should be focused on
parsing and checking that the format is correct, and not validating the values. For example for
options that take paths, this code should not verify that the path actually exists or perform
any path canonicalization. That should be left to other code outside of this module. This is so
that the configuration parsing does not become environment-dependent. If a configuration file
parses on one system, it should parse successfully on other systems as well.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.CliOptions.html" title="struct shadow_rs::core::configuration::CliOptions">CliOptions</a></div></li><li><div class="item-name"><a class="struct" href="struct.ConfigFileOptions.html" title="struct shadow_rs::core::configuration::ConfigFileOptions">Config<wbr>File<wbr>Options</a></div><div class="desc docblock-short">Options contained in a configuration file.</div></li><li><div class="item-name"><a class="struct" href="struct.ConfigOptions.html" title="struct shadow_rs::core::configuration::ConfigOptions">Config<wbr>Options</a></div><div class="desc docblock-short">Shadow configuration options after processing command-line and configuration file options.</div></li><li><div class="item-name"><a class="struct" href="struct.EnvName.html" title="struct shadow_rs::core::configuration::EnvName">EnvName</a></div></li><li><div class="item-name"><a class="struct" href="struct.ExperimentalOptions.html" title="struct shadow_rs::core::configuration::ExperimentalOptions">Experimental<wbr>Options</a></div></li><li><div class="item-name"><a class="struct" href="struct.FileSource.html" title="struct shadow_rs::core::configuration::FileSource">File<wbr>Source</a></div></li><li><div class="item-name"><a class="struct" href="struct.GeneralOptions.html" title="struct shadow_rs::core::configuration::GeneralOptions">General<wbr>Options</a></div></li><li><div class="item-name"><a class="struct" href="struct.HostDefaultOptions.html" title="struct shadow_rs::core::configuration::HostDefaultOptions">Host<wbr>Default<wbr>Options</a></div></li><li><div class="item-name"><a class="struct" href="struct.HostName.html" title="struct shadow_rs::core::configuration::HostName">Host<wbr>Name</a></div></li><li><div class="item-name"><a class="struct" href="struct.HostOptions.html" title="struct shadow_rs::core::configuration::HostOptions">Host<wbr>Options</a></div></li><li><div class="item-name"><a class="struct" href="struct.NetworkOptions.html" title="struct shadow_rs::core::configuration::NetworkOptions">Network<wbr>Options</a></div></li><li><div class="item-name"><a class="struct" href="struct.ProcessOptions.html" title="struct shadow_rs::core::configuration::ProcessOptions">Process<wbr>Options</a></div></li><li><div class="item-name"><a class="struct" href="struct.Signal.html" title="struct shadow_rs::core::configuration::Signal">Signal</a></div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Compression.html" title="enum shadow_rs::core::configuration::Compression">Compression</a></div></li><li><div class="item-name"><a class="enum" href="enum.GraphOptions.html" title="enum shadow_rs::core::configuration::GraphOptions">Graph<wbr>Options</a></div></li><li><div class="item-name"><a class="enum" href="enum.GraphSource.html" title="enum shadow_rs::core::configuration::GraphSource">Graph<wbr>Source</a></div></li><li><div class="item-name"><a class="enum" href="enum.LogInfoFlag.html" title="enum shadow_rs::core::configuration::LogInfoFlag">LogInfo<wbr>Flag</a></div></li><li><div class="item-name"><a class="enum" href="enum.LogLevel.html" title="enum shadow_rs::core::configuration::LogLevel">LogLevel</a></div></li><li><div class="item-name"><a class="enum" href="enum.NullableOption.html" title="enum shadow_rs::core::configuration::NullableOption">Nullable<wbr>Option</a></div><div class="desc docblock-short">This wrapper type allows cli options to specify “null” to overwrite a config file option with
<code>None</code>, and is intended to be used for options where “null” is a valid option value.</div></li><li><div class="item-name"><a class="enum" href="enum.ProcessArgs.html" title="enum shadow_rs::core::configuration::ProcessArgs">Process<wbr>Args</a></div></li><li><div class="item-name"><a class="enum" href="enum.ProcessFinalState.html" title="enum shadow_rs::core::configuration::ProcessFinalState">Process<wbr>Final<wbr>State</a></div><div class="desc docblock-short">The enum variants here have an extra level of indirection to get the
serde serialization that we want.</div></li><li><div class="item-name"><a class="enum" href="enum.QDiscMode.html" title="enum shadow_rs::core::configuration::QDiscMode">QDisc<wbr>Mode</a></div></li><li><div class="item-name"><a class="enum" href="enum.RunningVal.html" title="enum shadow_rs::core::configuration::RunningVal">Running<wbr>Val</a></div></li><li><div class="item-name"><a class="enum" href="enum.Scheduler.html" title="enum shadow_rs::core::configuration::Scheduler">Scheduler</a></div></li><li><div class="item-name"><a class="enum" href="enum.StraceLoggingMode.html" title="enum shadow_rs::core::configuration::StraceLoggingMode">Strace<wbr>Logging<wbr>Mode</a></div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.ONE_GBIT_SWITCH_GRAPH.html" title="constant shadow_rs::core::configuration::ONE_GBIT_SWITCH_GRAPH">ONE_<wbr>GBIT_<wbr>SWITC<wbr>H_<wbr>GRAPH</a></div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Flatten.html" title="trait shadow_rs::core::configuration::Flatten">Flatten</a></div><div class="desc docblock-short">A trait for <code>Option</code>-like types that can be flattened into a single <code>Option</code>.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.parse_string_as_args.html" title="fn shadow_rs::core::configuration::parse_string_as_args">parse_<wbr>string_<wbr>as_<wbr>args</a></div><div class="desc docblock-short">Parses a string as a list of arguments following the shell’s parsing rules. This
uses <code>g_shell_parse_argv()</code> for parsing.</div></li></ul></section></div></main></body></html>